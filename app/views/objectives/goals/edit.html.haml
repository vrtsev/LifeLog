%h1 Editing Goal

= form_for :goal, url: objectives_goal_path(@goal), method: :patch do |f|
  - if @goal.errors.any?
    #error_explanation
      %h2= "#{pluralize(@goal.errors.count, "error")} prohibited this goal from being saved:"
      %ul
        - @goal.errors.full_messages.each do |message|
          %li= message

  .field
    = f.label :title
    = f.text_field :title
  .field
    = f.label :description
    = f.cktext_area :description
  .field
    = f.label :status
    = f.select :status, Objective::Goal.statuses.keys.map { |s| [s.humanize, s] }
  .field
    = f.label :start_date
    = f.datetime_select :start_date
  .field
    = f.label :end_date
    = f.datetime_select :end_date
  .field
    = f.label :category_id
    = f.select :category_id, @categories.collect {|c| [ c.title, c.id ] }, { include_blank: true }
  .field
    = f.label :parent_id
    = f.number_field :parent_id
  .field
    = f.label :user_id
    = f.number_field :user_id
  .actions
    = f.submit 'Save'

= link_to 'Show', objectives_goal_path(@goal)
\|
= link_to 'Back', objectives_goals_path
